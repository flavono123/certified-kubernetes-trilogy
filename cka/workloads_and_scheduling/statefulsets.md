# StatefulSets

> π“ Cluster: **k8s**(default)
<br> `vagrant provision` λλ”
<br> `vagrant destroy -f && vagrant up`

μ¤ν…μ΄νΈν’€μ…‹(`StatefulSet`)μ€ Kubernetesμ—μ„ μƒνƒκ°€ μλ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•κΈ° μ„ν• μ›ν¬λ΅λ“ κ°μ²΄μ…λ‹λ‹¤. μ¤ν…μ΄νΈν’€μ…‹μ€ κ° νλ“μ— κ³ μ ν• μ΄λ¦„μ„ λ¶€μ—¬ν•κ³  μƒνƒκ°€ μλ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

λ””ν”λ΅μ΄λ¨ΌνΈ(`Deployment`)μ™€ μ¤ν…μ΄νΈν’€μ…‹μ€ λ¨λ‘ μ›ν¬λ΅λ“ κ°μ²΄λ΅μ„ νλ“λ¥Ό λ°°μΉν•κ³ , μ¤μΌ€μΌλ§, λ΅¤λ§ μ—…λ°μ΄νΈ, λ΅¤λ°± λ“±κ³Ό κ°™μ€ μ‘μ—…μ„ μν–‰ν•  μ μμµλ‹λ‹¤. κ·Έλ¬λ‚ λ””ν”λ΅μ΄λ¨ΌνΈλ” μƒνƒκ°€ μ—†λ”(stateless) μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•κΈ° μ„ν•΄ μ‚¬μ©λλ©°, μ¤μΌ€μΌλ§ λ° λ΅¤λ§ μ—…λ°μ΄νΈλ¥Ό μν–‰ν•  λ• μΌκ΄€μ„±μ΄ μ—†μ„ μ μμµλ‹λ‹¤. λ°λ©΄, μ¤ν…μ΄νΈν’€μ…‹μ€ μƒνƒκ°€ μλ”(stateful) μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•κΈ° μ„ν•΄ μ‚¬μ©λλ©°, κ°κ°μ νλ“μ— κ³ μ ν• μ΄λ¦„κ³Ό μΌκ΄€λ λ„¤νΈμ›ν¬ IDλ¥Ό ν• λ‹Ήν•μ—¬ μΌκ΄€μ„±μ„ μ μ§€ν•©λ‹λ‹¤.

μ¤ν…μ΄νΈν’€μ…‹μ€ λ°μ΄ν„°λ² μ΄μ¤, λ©”μ‹μ§• μ‹μ¤ν…, λ°μ΄ν„° μ¤ν† λ¦¬μ§€ μ‹μ¤ν… λ“±κ³Ό κ°™μ€ μƒνƒκ°€ μλ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•λ” λ° μ ν•©ν•©λ‹λ‹¤. λ°λ©΄ λ””ν”λ΅μ΄λ¨ΌνΈλ” μ›Ή μ„λ²„, μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„, μΊμ‹ μ‹μ¤ν… λ“±κ³Ό κ°™μ€ μƒνƒκ°€ μ—†λ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•λ” λ° μ ν•©ν•©λ‹λ‹¤.

μ¤ν…μ΄νΈν’€μ…‹μ€ νλ“μ μμ„κ°€ μ¤‘μ”ν• κ²½μ°μ—λ„ μ μ©ν•©λ‹λ‹¤. μ¤ν…μ΄νΈν’€μ…‹μ€ κ°κ°μ νλ“μ— μμ„λ€λ΅ λ²νΈλ¥Ό ν• λ‹Ήν•κ³ , λ΅¤λ§ μ—…λ°μ΄νΈλ‚ λ΅¤λ°± μ‹μ—λ„ νλ“μ μμ„λ¥Ό μ μ§€ν•  μ μμµλ‹λ‹¤. μ΄λ¬ν• κΈ°λ¥μ€ λ°μ΄ν„°λ² μ΄μ¤λ‚ λ©”μ‹μ§• μ‹μ¤ν… λ“±μ—μ„ λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤.

--- 

μ”μ•½ν•λ©΄, μ¤ν…μ΄νΈν’€μ…‹μ€ μƒνƒκ°€ μλ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•κΈ° μ„ν• μ›ν¬λ΅λ“ κ°μ²΄μ΄λ©°, κ°κ°μ νλ“μ— κ³ μ ν• μ΄λ¦„κ³Ό μΌκ΄€λ λ„¤νΈμ›ν¬ IDλ¥Ό ν• λ‹Ήν•μ—¬ μΌκ΄€μ„±μ„ μ μ§€ν•©λ‹λ‹¤. λ””ν”λ΅μ΄λ¨ΌνΈλ” μƒνƒκ°€ μ—†λ” μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ°°ν¬ν•κΈ° μ„ν• μ›ν¬λ΅λ“ κ°μ²΄μ΄λ©°, μƒνƒκ°€ μ—†λ” μ• ν”λ¦¬μΌ€μ΄μ…μ λ°°ν¬μ™€ μ¤μΌ€μΌλ§μ— μ ν•©ν•©λ‹λ‹¤.